# Joker	 =+4 Mult
# Greedy Joker	Played cards with  Diamond suit give +3 Mult when scored
# Lusty Joker	Played cards with  Heart suit give +3 Mult when scored
# Wrathful Joker	Played cards with  Spade suit give +3 Mult when scored
# Gluttonous Joker	Played cards with  Club suit give +3 Mult when scored
# Jolly Joker	 =+8 Mult if played hand contains a Pair
# Zany Joker	 =+12 Mult if played hand contains a Three of a Kind
# Mad Joker	 =+10 Mult if played hand contains a Two Pair
# Crazy Joker	 =+12 Mult if played hand contains a Straight
# Droll Joker	 =+10 Mult if played hand contains a Flush
# Sly Joker	 =+50 Chips if played hand contains a Pair
# Wily Joker	 =+100 Chips if played hand contains a Three of a Kind
# Clever Joker	 =+80 Chips if played hand contains a Two Pair
# Devious Joker	 =+100 Chips if played hand contains a Straight.
# Crafty Joker	 =+80 Chips if played hand contains a Flush
# Half Joker	 =+20 Mult if played hand contains 3 or fewer cards.
# Joker Stencil	"X1 Mult for each empty Joker slot. Joker Stencil included
# (Currently X1 Mult)"
# Four Fingers	All Flushes and Straights can be made with 4 cards
# Mime	Retrigger all card held in hand abilities
# Credit Card	Go up to -$20 in debt
# Ceremonial Dagger	When Blind is selected, destroy Joker to the right and permanently add double its sell value to this Mult (Currently +0 Mult)
# Banner	 =+30 Chips for each remaining discard
# Mystic Summit	 =+15 Mult when 0 discards remaining
# Marble Joker	Adds one Stone card to the deck when Blind is selected
# Loyalty Card	"x4 Mult every 6 hands played
# 5 remaining"
# 8 Ball	"1 in 4 chance for each played 8 to create a Tarot card when scored
# (Must have room)"
# Misprint	 =+? Mult
# Dusk	Retrigger all played cards in final hand of the round
# Raised Fist	Adds double the rank of lowest ranked card held in hand to Mult
# Chaos the Clown	1 free Reroll per shop
# Fibonacci	Each played Ace, 2, 3, 5, or 8 gives +8 Mult when scored
# Steel Joker	"Gives X0.2 Mult for each Steel Card in your full deck
# (Currently X1 Mult)"
# Scary Face	Played face cards give +30 Chips when scored
# Abstract Joker	" +3 Mult for each Joker card
# (Currently +0 Mult)"
# Delayed Gratification	Earn $2 per discard if no discards are used by end of the round
# Hack	Retrigger each played 2, 3, 4, or 5
# Pareidolia	All cards are considered face cards
# Gros Michel	" =+15 Mult
# 1 in 6 chance this is destroyed at the end of round."
# Even Steven	"Played cards with even rank give +4 Mult when scored
# (10, 8, 6, 4, 2)"
# Odd Todd	"Played cards with odd rank give +31 Chips when scored
# (A, 9, 7, 5, 3)"
# Scholar	Played Aces give +20 Chips and +4 Mult when scored
# Business Card	Played face cards have a 1 in 2 chance to give $2 when scored
# Supernova	Adds the number of times poker hand has been played this run to Mult
# Ride the Bus	"This Joker gains +1 Mult per consecutive hand played without a scoring face card
# (Currently +0 Mult)"
# Space Joker	1 in 4 chance to upgrade level of played poker hand
# Egg	Gains $3 of sell value at end of round
# Burglar	When Blind is selected, gain +3 Hands and lose all discards
# Blackboard	X3 Mult if all cards held in hand are  Spades or  Clubs
# Runner	"Gains +15 Chips if played hand contains a Straight
# (Currently +0 Chips)"
# Ice Cream	" =+100 Chips
# -5 Chips for every hand played"
# DNA	If first hand of round has only 1 card, add a permanent copy to deck and draw it to hand
# Splash	Every played card counts in scoring
# Blue Joker	" =+2 Chips for each remaining card in deck
# (Currently +104 Chips) "
# Sixth Sense	"If first hand of round is a single 6, destroy it and create a Spectral card
# (Must have room)"
# Constellation	"This Joker gains X0.1 Mult every time a Planet card is used
# (Currently X1 Mult)"
# Hiker	Every played card permanently gains +5 Chips when scored
# Faceless Joker	Earn $5 if 3 or more face cards are discarded at the same time
# Green Joker	" =+1 Mult per hand played
# -1 Mult per discard
# (Currently +0 Mult)"
# Superposition	"Create a Tarot card if poker hand contains an Ace and a Straight
# (Must have room)"
# To Do List	Earn $4 if poker hand is a [Poker Hand], poker hand changes at end of round
# Cavendish	"X3 Mult
# 1 in 1000 chance this card is destroyed at the end of round"
# Card Sharp	X3 Mult if played poker hand has already been played this round
# Red Card	"This Joker gains +3 Mult when any Booster Pack is skipped
# (Currently +0 Mult)"
# Madness	"When Small Blind or Big Blind is selected, gain X0.5 Mult and destroy a random Joker
# (Currently X1 Mult)"
# Square Joker	"This Joker gains +4 Chips if played hand has exactly 4 cards
# (Currently 0 Chips)"
# Seance	"If poker hand is a Straight Flush, create a random Spectral card
# (Must have room)"
# Riff-raff	"When Blind is selected, create 2 Common Jokers
# (Must have room)"
# Vampire	"This Joker gains X0.1 Mult per scoring Enhanced card played, removes card Enhancement
# (Currently X1 Mult)"
# Shortcut	"Allows Straights to be made with gaps of 1 rank
# (ex: 10 8 6 5 3)"
# Hologram	"This Joker gains X0.25 Mult every time a playing card is added to your deck
# (Currently X1 Mult)"
# Vagabond	Create a Tarot card if hand is played with $4 or less
# Baron	Each King held in hand gives X1.5 Mult
# Cloud 9	"Earn $1 for each 9 in your full deck at end of round
# (Currently $4)"
# Rocket	Earn $1 at end of round. Payout increases by $2 when Boss Blind is defeated
# Obelisk	"This Joker gains X0.2 Mult per consecutive hand played without playing your most played poker hand
# (Currently X1 Mult)"
# Midas Mask	All played face cards become Gold cards when scored
# Luchador	Sell this card to disable the current Boss Blind
# Photograph	First played face card gives X2 Mult when scored
# Gift Card	Add $1 of sell value to every Joker and Consumable card at end of round
# Turtle Bean	 =+5 hand size, reduces by 1 each round
# Erosion	" =+4 Mult for each card below [the deck's starting size] in your full deck
# (Currently +0 Mult)"
# Reserved Parking	Each face card held in hand has a 1 in 2 chance to give $1
# Mail-In Rebate	Earn $5 for each discarded [rank], rank changes every round
# To the Moon	Earn an extra $1 of interest for every $5 you have at end of round
# Hallucination	"1 in 2 chance to create a Tarot card when any Booster Pack is opened
# (Must have room)"
# Fortune Teller	" =+1 Mult per Tarot card used this run
# (Currently +0)"
# Juggler	 =+1 hand size
# Drunkard	 =+1 discard each round
# Stone Joker	"Gives +25 Chips for each Stone Card in your full deck
# (Currently +0 Chips)"
# Golden Joker	Earn $4 at end of round
# Lucky Cat	"This Joker gains X0.25 Mult every time a Lucky card successfully triggers
# (Currently X1 Mult)"
# Baseball Card	Uncommon Jokers each give X1.5 Mult
# Bull	" =+2 Chips for each $1 you have
# (Currently +0 Chips)"
# Diet Cola	Sell this card to create a free Double Tag
# Trading Card	If first discard of round has only 1 card, destroy it and earn $3
# Flash Card	"This Joker gains +2 Mult per reroll in the shop
# (Currently +0 Mult)"
# Popcorn	" =+20 Mult
# -4 Mult per round played"
# Spare Trousers	"This Joker gains +2 Mult if played hand contains a Two Pair
# (Currently +0 Mult)"
# Ancient Joker	"Each played card with [suit] gives X1.5 Mult when scored,
# suit changes at end of round"
# Ramen	X2 Mult, loses X0.01 Mult per card discarded
# Walkie Talkie	Each played 10 or 4 gives +10 Chips and +4 Mult when scored
# Seltzer	Retrigger all cards played for the next 10 hands
# Castle	"This Joker gains +3 Chips per discarded [Suit] card, suit changes every round
# (Currently +0 Chips)"
# Smiley Face	Played face cards give +5 Mult when scored
# Campfire	"This Joker gains X0.25 Mult for each card sold, resets when Boss Blind is defeated
# (Currently X1 Mult)"
# Golden Ticket	Played Gold cards earn $4 when scored
# Mr. Bones	"Prevents Death if chips scored are at least 25% of required chips
# self destructs"
# Acrobat	X3 Mult on final hand of round
# Sock and Buskin	Retrigger all played face cards
# Swashbuckler	"Adds the sell value of all other owned Jokers to Mult
# (Currently +1 Mult)"
# Troubadour	" =+2 hand size,
# -1 hand per round"
# Certificate	When round begins, add a random playing card with a random seal to your hand
# Smeared Joker	Hearts and  Diamonds count as the same suit,  Spades and  Clubs count as the same suit
# Throwback	"X0.25 Mult for each Blind skipped this run
# (Currently X1 Mult)"
# Hanging Chad	Retrigger first played card used in scoring 2 additional times
# Rough Gem	Played cards with  Diamond suit earn $1 when scored
# Bloodstone	1 in 2 chance for played cards with  Heart suit to give X1.5 Mult when scored
# Arrowhead	Played cards with  Spade suit give +50 Chips when scored
# Onyx Agate	Played cards with  Club suit give +7 Mult when scored
# Glass Joker	"This Joker gains X0.75 Mult for every Glass Card that is destroyed
# (Currently X1 Mult)"
# Showman	Joker, Tarot, Planet, and Spectral cards may appear multiple times
# Flower Pot	X3 Mult if poker hand contains a  Diamond card,  Club card,  Heart card, and  Spade card
# Blueprint	Copies ability of Joker to the right
# Wee Joker	"This Joker gains +8 Chips when each played 2 is scored
# (Currently +0 Chips)"
# Merry Andy	" =+3 discards each round,
# -1 hand size"
# Oops! All 6s	"Doubles all listed probabilities
# (ex: 1 in 3 -> 2 in 3)"
# The Idol	"Each played [rank] of [suit] gives X2 Mult when scored
# Card changes every round"
# Seeing Double	X2 Mult if played hand has a scoring Club card and a scoring card of any other suit
# Matador	Earn $8 if played hand triggers the Boss Blind ability
# Hit the Road	"This Joker gains X0.5 Mult for every Jack discarded this round
# (Currently X1 Mult)"
# The Duo	x2 Mult if played hand contains a Pair
# The Trio	X3 Mult if played hand contains a Three of a Kind
# The Family	X4 Mult if played hand contains a Four of a Kind
# The Order	X3 Mult if played hand contains a Straight
# The Tribe	x2 Mult if played hand contains a Flush
# Stuntman	" =+250 Chips,
# -2 hand size"
# Invisible Joker	"After 2 rounds, sell this card to Duplicate a random Joker
# (Currently 0/2)
# (Removes Negative from copy)"
# Brainstorm	Copies the ability of leftmost Joker
# Satellite	Earn $1 at end of round per unique Planet card used this run
# Shoot the Moon	Each Queen held in hand gives +13 Mult
# Driver's License	"x3 Mult if you have at least 16 Enhanced cards in your full deck
# (Currently 0)"
# Cartomancer	"Create a Tarot card when Blind is selected
# (Must have room)"
# Astronomer	All Planet cards and Celestial Packs in the shop are free
# Burnt Joker	Upgrade the level of the first discarded poker hand each round
# Bootstraps	" =+2 Mult for every $5 you have
# (Currently +0 Mult)"
# Caino	"This Joker gains X1 Mult when a face card is destroyed
# (Currently X1 Mult)"
# Triboulet	Played Kings and Queens each give x2 Mult when scored
# Yorick	"This Joker gains X1 Mult every 23 [23] cards discarded
# (Currently X1 Mult)"
# Chicot	Disables effect of every Boss Blind
# Perkeo	Creates a Negative copy of 1 random consumable card in your possession at the end of the shop
import random


def supported_jokers():
    return [
        "Joker",
        "Greedy Joker",
        "Lusty Joker",
        "Wrathful Joker",
        "Gluttonous Joker",
        "Jolly Joker",
        "Zany Joker",
        "Mad Joker",
        "Crazy Joker",
        "Droll Joker",
        "Sly Joker",
        "Wily Joker",
        "Clever Joker",
        "Devious Joker",
        "Crafty Joker",
        "Half Joker",
        "Misprint",
        "Raised Fist",
        "Scary Face",
        "Abstract Joker",
        "Even Steven",
        "Odd Todd",
        "Scholar",
        "Walkie Talkie",
        "Smiley Face",
        "Ice Cream",
    ]


def calculate_joker_effects(
    jokers, old_chips, old_mult, cards_played, cards_scored, cards_in_hand, hand_type
):
    chips = old_chips
    mult = old_mult
    for joker in jokers:
        if joker["label"] == "Joker":
            mult += 4
        elif joker["label"] == "Greedy Joker":
            for card in cards_scored:
                if card["suit"] == "Diamonds":
                    mult += 3
        elif joker["label"] == "Lusty Joker":
            for card in cards_scored:
                if card["suit"] == "Hearts":
                    mult += 3
        elif joker["label"] == "Wrathful Joker":
            for card in cards_scored:
                if card["suit"] == "Spades":
                    mult += 3
        elif joker["label"] == "Gluttonous Joker":
            for card in cards_scored:
                if card["suit"] == "Clubs":
                    mult += 3
        elif joker["label"] == "Jolly Joker":
            if hand_type in [
                "Pair",
                "Two Pair",
                "Three of a Kind",
                "Full House",
                "Four of a Kind",
            ]:
                mult += 8
        elif joker["label"] == "Zany Joker":
            if hand_type in ["Three of a Kind", "Full House", "Four of a Kind"]:
                mult += 12
        elif joker["label"] == "Mad Joker":
            if hand_type in ["Two Pair", "Full House"]:
                mult += 10
        elif joker["label"] == "Crazy Joker":
            if hand_type in ["Straight", "Straight Flush"]:
                mult += 12
        elif joker["label"] == "Droll Joker":
            if hand_type in ["Flush", "Straight Flush"]:
                mult += 10
        elif joker["label"] == "Sly Joker":
            if hand_type in [
                "Pair",
                "Two Pair",
                "Three of a Kind",
                "Full House",
                "Four of a Kind",
            ]:
                chips += 50
        elif joker["label"] == "Wily Joker":
            if hand_type in ["Three of a Kind", "Full House", "Four of a Kind"]:
                chips += 100
        elif joker["label"] == "Clever Joker":
            if hand_type == "Two Pair":
                chips += 80
        elif joker["label"] == "Devious Joker":
            if hand_type in ["Straight", "Straight Flush"]:
                chips += 100
        elif joker["label"] == "Crafty Joker":
            if hand_type in ["Flush", "Straight Flush"]:
                chips += 80
        elif joker["label"] == "Half Joker":
            if len(cards_played) <= 3:
                mult += 20
        elif joker["label"] == "Misprint":
            mult += random.randint(0, 23)
        elif joker["label"] == "Raised Fist":
            mult += min([card["value"] for card in cards_in_hand])
        elif joker["label"] == "Scary Face":
            for card in cards_scored:
                if card["value"] in [11, 12, 13]:
                    chips += 30
        elif joker["label"] == "Abstract Joker":
            mult += 3 * len(jokers)
        elif joker["label"] == "Even Steven":
            for card in cards_scored:
                if card["value"] in [2, 4, 6, 8, 10]:
                    mult += 4
        elif joker["label"] == "Odd Todd":
            for card in cards_scored:
                if card["value"] in [3, 5, 7, 9, 14]:  # 14 is Ace
                    chips += 31
        elif joker["label"] == "Scholar":
            for card in cards_scored:
                if card["value"] == 14:
                    chips += 20
                    mult += 4
        elif joker["label"] == "Walkie Talkie":
            for card in cards_scored:
                if card["value"] in [4, 10]:
                    chips += 10
                    mult += 4
        elif joker["label"] == "Smiley Face":
            for card in cards_scored:
                if card["value"] in [11, 12, 13]:
                    mult += 5
        elif joker["label"] == "Ice Cream":
            # For now, -5 chips for every hand played is ignored
            chips += 80
    return chips, mult
